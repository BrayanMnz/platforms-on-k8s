(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[280],{3618:function(e,t,n){Promise.resolve().then(n.bind(n,5433))},5433:function(e,t,n){"use strict";let s;n.r(t),n.d(t,{default:function(){return q}});var a=n(9268),r=n(3637),i=n.n(r),l=n(6006),c=n(9508),o=n(3648),d=n.n(o),u=function(e){let{title:t,author:n,id:s,status:r,approved:i,email:l,description:o,actionHandler:u}=e,p=(e,t,n)=>{u(t,e,n)};return(0,a.jsxs)("div",{className:"".concat(d().ProposalItem,"  ").concat("PENDING"===r?d().pending:"","   ").concat("DECIDED"===r?d().decided:"","  ").concat("REJECT"===r?d().rejected:"","   ").concat("APPROVE"===r?d().approved:"","  ").concat("ARCHIVED"===r?d().archived:""),children:[(0,a.jsxs)("div",{className:"ProposalItem__header",children:[(0,a.jsx)("h4",{children:t}),(0,a.jsxs)("div",{children:[n," ",l]}),(0,a.jsx)("div",{className:d().status,children:r})]}),(0,a.jsx)("div",{className:d().description,children:(0,a.jsx)("p",{className:"p --s",children:o})}),!1,r&&"PENDING"===r&&(0,a.jsxs)("div",{className:d().actions,children:[(0,a.jsx)("div",{children:(0,a.jsx)(c.default,{clickHandler:()=>p(s,r,"APPROVE"),children:"Approve"})}),(0,a.jsx)("div",{children:(0,a.jsx)(c.default,{clickHandler:()=>p(s,r,"REJECT"),children:"Reject"})}),(0,a.jsx)("div",{children:(0,a.jsx)(c.default,{clickHandler:()=>p(s,r,"ARCHIVE"),children:"Archive"})})]}),r&&"DECIDED"===r&&(0,a.jsxs)("div",{className:d().actions,children:[!0===i&&(0,a.jsx)("div",{className:"ProposalItem__badge --approved",children:"Approved"}),!1===i&&(0,a.jsx)("div",{className:"ProposalItem__badge --rejected",children:"Rejected"}),(0,a.jsx)("div",{children:(0,a.jsx)(c.default,{clickHandler:()=>p(s,r,"ARCHIVE"),children:"Archive"})})]}),r&&"ARCHIVED"===r&&(0,a.jsx)("div",{className:d().actions,children:(0,a.jsx)("div",{className:"ProposalItem__badge --approved",children:"Archived"})})]})},p=function(){let[e,t]=(0,l.useState)(!1),[n,s]=(0,l.useState)(!1),[r,i]=(0,l.useState)(!1),[o,p]=(0,l.useState)([]),h=(e,n)=>{t(!0),s(!1),console.log("Decision Made ..."),fetch("/api/c4p/"+e+"/decide",{method:"POST",body:JSON.stringify({approved:n}),headers:{accept:"application/json"}}).then(e=>e.json()).then(e=>{var n="?status="+r;""==r&&(n=""),j(n),t(!1)}).catch(e=>{t(!1),s(!0)})},f=e=>{t(!0),s(!1),console.log("Archiving Proposal ..."+e),fetch("/api/c4p/"+e,{method:"DELETE",headers:{accept:"application/json"}}).then(e=>e.json()).then(()=>{var e="?status="+r;""==r&&(e=""),j(e),t(!1)}).catch(e=>{console.log(e),t(!1),s(!0)})};function m(e,t,n){console.log("status: "+e+" - id: "+t+" - action: "+n),"PENDING"==e&&("APPROVE"==n?h(t,!0):h(t,!1)),"ARCHIVE"==n&&f(t)}let j=e=>{console.log("Fetching Proposals ... ("+e+")."),fetch("/api/c4p/"+e).then(e=>e.json()).then(e=>{p(e),t(!1)}).catch(e=>{console.log(e)})};return(0,l.useEffect)(()=>{t(!0);var e="?status="+r;""==r&&(e=""),j(e)},[r]),(0,a.jsxs)("div",{className:d().ProposalList,children:[(0,a.jsx)("div",{className:d().ProposalList_Filters,children:(0,a.jsxs)("div",{className:d().container,children:["Filter By:",(0,a.jsx)(c.default,{state:""==r?"inactive":"active",clickHandler:()=>void i(""),children:"All"}),(0,a.jsx)(c.default,{state:"PENDING"==r?"active":"inactive",clickHandler:()=>void i("PENDING"),children:"Pending"}),(0,a.jsx)(c.default,{state:"DECIDED"==r?"active":"inactive",clickHandler:()=>void i("DECIDED"),children:"Decided"}),(0,a.jsx)(c.default,{state:"ARCHIVED"==r?"active":"inactive",clickHandler:()=>void i("ARCHIVED"),children:"Archived"})]})}),(0,a.jsxs)("div",{className:d().ProposalList_Items,children:[o&&o.map((e,t)=>(0,a.jsx)(u,{id:e.Id,title:e.Title,author:e.Author,description:e.Description,email:e.Email,approved:e.Approved,status:e.Status.Status,actionHandler:m},e.Id)),o&&0===o.length&&"PENDING"===r&&(0,a.jsx)("span",{children:"There are no pending proposals."}),o&&0===o.length&&"DECIDED"===r&&(0,a.jsx)("span",{children:"There are no decided proposals."}),o&&0===o.length&&!1===r&&(0,a.jsx)("span",{children:"There are no proposals."})]})]})},h=function(e){let{id:t,title:n,emailTo:s,emailSubject:r,emailBody:i,approved:l}=e;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"ProposalItem__header",children:[(0,a.jsxs)("h3",{children:["Proposal: ",n]}),(0,a.jsxs)("div",{className:"ProposalItem__status",children:["Approved? ",l]})]}),(0,a.jsxs)("div",{className:"ProposalItem__description",children:["To: ",(0,a.jsx)("p",{className:"p p-s",children:s}),"Subject: ",(0,a.jsx)("p",{className:"p p-s",children:r}),"Body: ",(0,a.jsx)("p",{className:"p p-s",children:i})]})]})},f=function(){let[e,t]=(0,l.useState)(!1),[n,s]=(0,l.useState)(!1),[r,i]=(0,l.useState)([]),[c,o]=(0,l.useState)(0),d=()=>{fetch("/api/notifications/").then(e=>e.json()).then(e=>{console.log("Fetching Notifications ..."),i(e),t(!1)}).catch(e=>{console.log(e)})};return(0,l.useEffect)(()=>{let e=setInterval(()=>{t(!0),d()},3e3);return()=>clearInterval(e)},[c]),(0,l.useEffect)(()=>{t(!0),d()},[]),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{children:[r&&r.map((e,t)=>(0,a.jsx)(h,{id:e.Id,title:e.Title,emailTo:e.EmailTo,emailBody:e.EmailBody,emailSubject:e.EmailSubject,approved:e.Approved},e.Id)),r&&0===r.length&&(0,a.jsx)("span",{children:"There are no notifications."})]})})},m=function(e){let{id:t,type:n,payload:s}=e;return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"ProposalItem__header",children:[(0,a.jsx)("h3",{children:t}),(0,a.jsx)("h5",{children:n}),(0,a.jsx)("div",{className:"ProposalItem__status",children:s})]})})},j=function(){let[e,t]=(0,l.useState)(!1),[n,s]=(0,l.useState)(!1),[r,i]=(0,l.useState)([]),[c,o]=(0,l.useState)(0),d=()=>{fetch("/api/events/").then(e=>e.json()).then(e=>{console.log("Fetching Events ..."),i(e),t(!1)}).catch(e=>{console.log(e)})};return(0,l.useEffect)(()=>{t(!0),d()},[]),(0,l.useEffect)(()=>{let e=setInterval(()=>{t(!0),d()},3e3);return()=>clearInterval(e)},[c]),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{children:[r&&r.map((e,t)=>(0,a.jsx)(m,{id:e.Id,type:e.Type,payload:e.Payload},e.Id)),r&&0===r.length&&(0,a.jsx)("span",{children:"There are no events."})]})})};function _(e){return t=>!!t.type&&t.type.tabsRole===e}let x=_("Tab"),v=_("TabList"),g=_("TabPanel");function b(e,t){return l.Children.map(e,e=>null===e?null:x(e)||v(e)||g(e)?t(e):e.props&&e.props.children&&"object"==typeof e.props.children?(0,l.cloneElement)(e,{...e.props,children:b(e.props.children,t)}):e)}var N=function(){for(var e,t,n=0,s="";n<arguments.length;)(e=arguments[n++])&&(t=function e(t){var n,s,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t){if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(s=e(t[n]))&&(a&&(a+=" "),a+=s);else for(n in t)t[n]&&(a&&(a+=" "),a+=n)}return a}(e))&&(s&&(s+=" "),s+=t);return s};function E(e){let t=0;return!function e(t,n){return l.Children.forEach(t,t=>{null!==t&&(x(t)||g(t)?n(t):t.props&&t.props.children&&"object"==typeof t.props.children&&(v(t)&&n(t),e(t.props.children,n)))})}(e,e=>{x(e)&&t++}),t}function I(e){return e&&"getAttribute"in e}function y(e){return I(e)&&e.getAttribute("data-rttab")}function A(e){return I(e)&&"true"===e.getAttribute("aria-disabled")}let C={className:"react-tabs",focus:!1},P=e=>{let t=(0,l.useRef)([]),n=(0,l.useRef)([]),a=(0,l.useRef)();function r(t,n){if(t<0||t>=o())return;let{onSelect:s,selectedIndex:a}=e;s(t,a,n)}function i(e){let t=o();for(let n=e+1;n<t;n++)if(!A(d(n)))return n;for(let t=0;t<e;t++)if(!A(d(t)))return t;return e}function c(e){let t=e;for(;t--;)if(!A(d(t)))return t;for(t=o();t-- >e;)if(!A(d(t)))return t;return e}function o(){let{children:t}=e;return E(t)}function d(e){return t.current[`tabs-${e}`]}function u(e){let t=e.target;do if(p(t)){if(A(t))return;let n=[].slice.call(t.parentNode.children).filter(y).indexOf(t);r(n,e);return}while(null!=(t=t.parentNode))}function p(e){if(!y(e))return!1;let t=e.parentElement;do{if(t===a.current)return!0;if(t.getAttribute("data-rttabs"))break;t=t.parentElement}while(t);return!1}let{children:h,className:f,disabledTabClassName:m,domRef:j,focus:_,forceRenderTabPanel:I,onSelect:P,selectedIndex:k,selectedTabClassName:T,selectedTabPanelClassName:D,environment:R,disableUpDownKeys:S,disableLeftRightKeys:L,...w}={...C,...e};return l.createElement("div",Object.assign({},w,{className:N(f),onClick:u,onKeyDown:function(t){let{direction:n,disableUpDownKeys:s,disableLeftRightKeys:a}=e;if(p(t.target)){let{selectedIndex:l}=e,p=!1,h=!1;("Space"===t.code||32===t.keyCode||"Enter"===t.code||13===t.keyCode)&&(p=!0,h=!1,u(t)),(a||37!==t.keyCode&&"ArrowLeft"!==t.code)&&(s||38!==t.keyCode&&"ArrowUp"!==t.code)?(a||39!==t.keyCode&&"ArrowRight"!==t.code)&&(s||40!==t.keyCode&&"ArrowDown"!==t.code)?35===t.keyCode||"End"===t.code?(l=function(){let e=o();for(;e--;)if(!A(d(e)))return e;return null}(),p=!0,h=!0):(36===t.keyCode||"Home"===t.code)&&(l=function(){let e=o();for(let t=0;t<e;t++)if(!A(d(t)))return t;return null}(),p=!0,h=!0):(l="rtl"===n?c(l):i(l),p=!0,h=!0):(l="rtl"===n?i(l):c(l),p=!0,h=!0),p&&t.preventDefault(),h&&r(l,t)}},ref:e=>{a.current=e,j&&j(e)},"data-rttabs":!0}),function(){let a=0,{children:r,disabledTabClassName:i,focus:c,forceRenderTabPanel:u,selectedIndex:p,selectedTabClassName:h,selectedTabPanelClassName:f,environment:m}=e;n.current=n.current||[];let j=n.current.length-o(),_=(0,l.useId)();for(;j++<0;)n.current.push(`${_}${n.current.length}`);return b(r,e=>{let r=e;if(v(e)){let a=0,o=!1;null==s&&function(e){let t=e||("undefined"!=typeof window?window:void 0);try{s=!!(void 0!==t&&t.document&&t.document.activeElement)}catch(e){s=!1}}(m);let u=m||("undefined"!=typeof window?window:void 0);s&&u&&(o=l.Children.toArray(e.props.children).filter(x).some((e,t)=>u.document.activeElement===d(t))),r=(0,l.cloneElement)(e,{children:b(e.props.children,e=>{let s=`tabs-${a}`,r=p===a,d={tabRef:e=>{t.current[s]=e},id:n.current[a],selected:r,focus:r&&(c||o)};return h&&(d.selectedClassName=h),i&&(d.disabledClassName=i),a++,(0,l.cloneElement)(e,d)})})}else if(g(e)){let t={id:n.current[a],selected:p===a};u&&(t.forceRender=u),f&&(t.selectedClassName=f),a++,r=(0,l.cloneElement)(e,t)}return r})}())};P.propTypes={};let k={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},T=e=>null===e.selectedIndex?1:0,D=(e,t)=>{},R=e=>{let{children:t,defaultFocus:n,defaultIndex:s,focusTabOnClick:a,onSelect:r,...i}={...k,...e},[c,o]=(0,l.useState)(n),[d]=(0,l.useState)(T(i)),[u,p]=(0,l.useState)(1===d?s||0:null);if((0,l.useEffect)(()=>{o(!1)},[]),1===d){let e=E(t);(0,l.useEffect)(()=>{if(null!=u){let t=Math.max(0,e-1);p(Math.min(u,t))}},[e])}D(i,d);let h={...e,...i};return h.focus=c,h.onSelect=(e,t,n)=>{("function"!=typeof r||!1!==r(e,t,n))&&(a&&o(!0),1===d&&p(e))},null!=u&&(h.selectedIndex=u),delete h.defaultFocus,delete h.defaultIndex,delete h.focusTabOnClick,l.createElement(P,h,t)};R.propTypes={},R.tabsRole="Tabs";let S={className:"react-tabs__tab-list"},L=e=>{let{children:t,className:n,...s}={...S,...e};return l.createElement("ul",Object.assign({},s,{className:N(n),role:"tablist"}),t)};L.tabsRole="TabList",L.propTypes={};let w="react-tabs__tab",H={className:w,disabledClassName:`${w}--disabled`,focus:!1,id:null,selected:!1,selectedClassName:`${w}--selected`},O=e=>{let t=(0,l.useRef)(),{children:n,className:s,disabled:a,disabledClassName:r,focus:i,id:c,selected:o,selectedClassName:d,tabIndex:u,tabRef:p,...h}={...H,...e};return(0,l.useEffect)(()=>{o&&i&&t.current.focus()},[o,i]),l.createElement("li",Object.assign({},h,{className:N(s,{[d]:o,[r]:a}),ref:e=>{t.current=e,p&&p(e)},role:"tab",id:`tab${c}`,"aria-selected":o?"true":"false","aria-disabled":a?"true":"false","aria-controls":`panel${c}`,tabIndex:u||(o?"0":null),"data-rttab":!0}),n)};O.propTypes={},O.tabsRole="Tab";let F="react-tabs__tab-panel",V={className:F,forceRender:!1,selectedClassName:`${F}--selected`},$=e=>{let{children:t,className:n,forceRender:s,id:a,selected:r,selectedClassName:i,...c}={...V,...e};return l.createElement("div",Object.assign({},c,{className:N(n,{[i]:r}),role:"tabpanel",id:`panel${a}`,"aria-labelledby":`tab${a}`}),s||r?t:null)};$.tabsRole="TabPanel",$.propTypes={};var B=n(8700);function q(){return(0,a.jsxs)("main",{className:i().main,children:[(0,a.jsx)("div",{className:"".concat(i().hero," "),children:(0,a.jsx)("div",{className:"grid content noMargin",children:(0,a.jsx)("div",{className:"col full",children:(0,a.jsx)("h3",{children:"Backoffice"})})})}),(0,a.jsx)("div",{className:"".concat(i().BackofficeContent," "),children:(0,a.jsx)("div",{className:"grid content noMargin",children:(0,a.jsx)("div",{className:"col full",children:(0,a.jsx)("div",{className:"".concat(i().tabs," "),children:(0,a.jsxs)(R,{children:[(0,a.jsxs)(L,{children:[(0,a.jsx)(O,{children:"Review Proposals"}),(0,a.jsx)(O,{children:"Agenda Items"}),(0,a.jsx)(O,{children:"Notifications"}),(0,a.jsx)(O,{children:"Events"})]}),(0,a.jsx)($,{children:(0,a.jsx)(p,{})}),(0,a.jsx)($,{children:(0,a.jsx)(B.Z,{admin:"true"})}),(0,a.jsx)($,{children:(0,a.jsx)(f,{})}),(0,a.jsx)($,{children:(0,a.jsx)(j,{})})]})})})})})]})}},8700:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var s=n(9268),a=n(7580),r=n.n(a),i=n(6006),l=n(9508),c=function(e){let{key:t,id:n,name:a,day:c,time:o,author:d,description:u,admin:p,handleArchive:h}=e,[f,m]=(0,i.useState)(!1),j=e=>{h(e)},_=()=>{f?m(!1):m(!0)};return(0,s.jsxs)("div",{onClick:()=>_(),className:"".concat(r().agendaItem,"  ").concat(f?r().open:" "," "),children:[(0,s.jsxs)("div",{className:r().openTag,children:[!f&&(0,s.jsx)(s.Fragment,{children:"Click for details"}),f&&(0,s.jsx)(s.Fragment,{children:"Close"})]}),(0,s.jsxs)("div",{className:"AgendaItem__date",children:[(0,s.jsx)("div",{className:"AgendaItem__day",children:c}),(0,s.jsx)("div",{className:"AgendaItem__time",children:o})]}),(0,s.jsxs)("div",{className:"AgendaItem__data",children:[(0,s.jsx)("h4",{children:a}),(0,s.jsxs)("p",{className:"p p-s",children:[" ",d]}),(0,s.jsxs)("div",{className:r().description,children:[(0,s.jsx)("p",{children:u}),(0,s.jsx)("p",{children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Autem nam sit minus quibusdam nisi voluptatem earum eum ipsam sunt consequuntur odit neque libero, modi ut officiis, dignissimos rerum at facere!"})]})]}),p&&(0,s.jsx)(l.default,{clickHandler:()=>j(n),children:"Archive"})]})},o=function(e){let[t,n]=(0,i.useState)(!1),[a,l]=(0,i.useState)(""),{day:o,highlights:d,admin:u}=e,[p,h]=(0,i.useState)(!1),f=[{title:"Cached Entry",author:"Cached Author",time:"1pm",day:"Monday",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Id officia doloribus, molestiae, mollitia quia maiores velit consequuntur dolorem labore beatae, porro aliquam quis! Quasi commodi aperiam, assumenda rem molestiae porro."}],m=()=>{console.log("Querying /agenda/"),fetch("/api/agenda/").then(e=>e.json()).then(e=>{l(e),h(!1)}).catch(e=>{l(f),console.log(e)})},j=e=>{h(!0),n(!1),console.log("Archiving Agenda Item ..."+e),fetch("/api/agenda/"+e,{method:"DELETE",headers:{accept:"application/json"}}).then(e=>e.json()).then(()=>{m(),h(!1)}).catch(e=>{console.log(e),h(!1),n(!0)})};return(0,i.useEffect)(()=>{h(!0),m()},[l]),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:r().agendaList,children:[a&&a.length>0&&a.map((e,t)=>(0,s.jsx)(c,{name:e.Title,time:e.Time,id:e.Id,description:e.Description,author:e.Author,admin:u,handleArchive:j},t)),a&&0==a.length&&(0,s.jsx)("p",{children:"There are no confirmed talks just yet."})]})})}},9508:function(e,t,n){"use strict";n.r(t);var s=n(9268),a=n(5942),r=n.n(a),i=n(5846),l=n.n(i);t.default=function(e){var t;let{children:n,link:a,external:i,inline:c,clickHandler:o,small:d,main:u,disabled:p,inverted:h}=e;return t=a?i?(0,s.jsxs)("a",{href:a,target:"_blank",children:["  ",(0,s.jsx)("span",{children:n})," "]}):(0,s.jsxs)(l(),{href:a,children:["  ",(0,s.jsx)("span",{children:n})," "]}):o?(0,s.jsxs)(l(),{className:"__container",href:"#",onClick:o,children:[" ",(0,s.jsx)("span",{children:n}),"  "]}):(0,s.jsxs)(l(),{href:"#",className:"__container",children:["  ",(0,s.jsx)("span",{children:n})," "]}),(0,s.jsx)("div",{className:r().button,children:t})}},5942:function(e){e.exports={button:"button_button__eJLCR"}},7580:function(e){e.exports={main:"agenda_main__vSYVy",hero:"agenda_hero__O641h",agendaList:"agenda_agendaList__JIcrA",agendaItem:"agenda_agendaItem__FCiJA",openTag:"agenda_openTag___VmLf",description:"agenda_description__7506d",open:"agenda_open__QEn0H"}},3637:function(e){e.exports={main:"backoffice_main__2YuYo",hero:"backoffice_hero__qqhcl",BackofficeContent:"backoffice_BackofficeContent__6HXzy",tabs:"backoffice_tabs__5WaXj"}},3648:function(e){e.exports={main:"proposals_main__GEIB4",hero:"proposals_hero__jzN2t",ProposalList_Filters:"proposals_ProposalList_Filters__ByYEs",container:"proposals_container__PRkam",ProposalList_Items:"proposals_ProposalList_Items__LZLDE",ProposalItem:"proposals_ProposalItem__o5ML2",status:"proposals_status__nXuvk",actions:"proposals_actions__rZKiO",description:"proposals_description__TRpJd",pending:"proposals_pending__RGFEa",archived:"proposals_archived__J_Zsk"}}},function(e){e.O(0,[629,253,488,744],function(){return e(e.s=3618)}),_N_E=e.O()}]);