(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2153:function(e,n,t){Promise.resolve().then(t.bind(t,5954))},8307:function(e,n,t){"use strict";t.r(n);var r=t(9268),s=t(6330),l=t.n(s),a=t(5846),i=t.n(a);n.default=function(e){var n;let{children:t,link:s,external:a,inline:c,clickHandler:o,small:d,main:u,disabled:f,inverted:m}=e;return n=s?a?(0,r.jsxs)("a",{href:s,target:"_blank",children:["  ",(0,r.jsx)("span",{children:t})," "]}):(0,r.jsxs)(i(),{href:s,children:["  ",(0,r.jsx)("span",{children:t})," "]}):o?(0,r.jsxs)(i(),{className:"__container",href:"#",onClick:o,children:[" ",(0,r.jsx)("span",{children:t}),"  "]}):(0,r.jsxs)(i(),{href:"#",className:"__container",children:["  ",(0,r.jsx)("span",{children:t})," "]}),(0,r.jsx)("div",{className:l().button,children:n})}},5954:function(e,n,t){"use strict";let r;t.r(n),t.d(n,{default:function(){return M}});var s=t(9268),l=t(6158),a=t.n(l),i=t(6006),c=t(4811),o=t.n(c),d=function(e){let{id:n,name:t,type:r,installInfra:l,debug:a}=e,[c,d]=(0,i.useState)(!1),u=()=>{c?d(!1):d(!0)};return(0,s.jsxs)("div",{onClick:()=>u(),className:"".concat(o().EnvironmentItem,"  ").concat(c?o().open:" "," "),children:[(0,s.jsxs)("div",{className:o().openTag,children:[!c&&(0,s.jsx)(s.Fragment,{children:"Click for details"}),c&&(0,s.jsx)(s.Fragment,{children:"Close"})]}),(0,s.jsx)("div",{className:o().header,children:(0,s.jsxs)("h5",{children:[" ",(0,s.jsx)("span",{children:"Environment:"})," ",t]})}),(0,s.jsxs)("div",{className:o().description,children:[(0,s.jsxs)("div",{className:o().descriptionTo,children:[(0,s.jsx)("span",{children:"Type:"})," ",r]}),(0,s.jsxs)("div",{className:o().descriptionSubject,children:[(0,s.jsx)("span",{children:" Install Infrastructure:"})," ",l.toString()]}),(0,s.jsxs)("div",{className:o().descriptionSubject,children:[(0,s.jsx)("span",{children:" Frontend Debug:"})," ",a.toString()]})]})]})},u=function(){let[e,n]=(0,i.useState)(!1),[t,r]=(0,i.useState)(!1),[l,a]=(0,i.useState)([]),[c,u]=(0,i.useState)(0),f=()=>{fetch("/api/environments/").then(e=>e.json()).then(e=>{console.log("Fetching Environments ..."),a(e),n(!1)}).catch(e=>{console.log(e)})};return(0,i.useEffect)(()=>{let e=setInterval(()=>{n(!0),f()},3e3);return()=>clearInterval(e)},[c]),(0,i.useEffect)(()=>{n(!0),f()},[]),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:o().EnvironmentList,children:[l&&l.map((e,n)=>(0,s.jsx)(d,{id:e.id,name:e.metadata.name,type:e.spec.compositionSelector.matchLabels.type,installInfra:e.spec.parameters.installInfra,debug:e.spec.parameters.frontend.debug},e.id)),l&&0===l.length&&(0,s.jsx)("span",{children:"There are no environments."})]})})},f=t(7150),m=t.n(f),p=t(997),h=t.n(p);function b(e){let{label:n,id:t,name:r,value:l}=e;return(0,s.jsxs)("div",{className:h().textfield,children:[(0,s.jsx)("label",{children:n}),(0,s.jsx)("input",{type:"text",id:t,name:r,value:l})]})}var _=t(8307),v=function(){let[e,n]=(0,i.useState)(!1),[t,r]=(0,i.useState)(!1),[l,a]=(0,i.useState)(!1),[c,o]=(0,i.useState)(""),[d,u]=(0,i.useState)(""),[f,p]=(0,i.useState)(!1),[h,v]=(0,i.useState)(!1);return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:m().EventsList,children:[!l&&(0,s.jsxs)("div",{children:[(0,s.jsx)(b,{label:"Name",id:"name",name:"name"}),(0,s.jsx)(b,{label:"Type",id:"type",name:"type"}),(0,s.jsx)(b,{label:"Install Infrastructure",id:"installInfra",name:"installInfra"}),(0,s.jsx)(b,{label:"Frontend Debug",id:"debug",name:"debug"}),t&&(0,s.jsx)("small",{className:"mt-3 d-inline-block text-danger",children:"Something went wrong. Please try again later."}),(0,s.jsx)(_.default,{type:"submit",clickHandler:()=>{n(!0),r(!1);let e={name:document.getElementById("name").value,parameters:{type:document.getElementById("type").value,installInfra:"true"===document.getElementById("installInfra").value.toLowerCase(),frontend:{debug:"true"===document.getElementById("debug").value.toLowerCase()}}};console.log("Sending Post!"+JSON.stringify(e));try{fetch("/api/environments/",{method:"POST",body:JSON.stringify(e),headers:{accept:"application/json"}}).then(e=>e.json()).then(e=>{o(""),u(""),p(""),v(""),n(!1),a(!0)})}catch(e){n(!1),r(!0)}},children:"Create New Environment"})]}),l&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{children:"Thanks for creating an new Environment with us!"}),(0,s.jsx)(_.default,{clickHandler:()=>{a(!1)},children:"Create another Environment"})]})]})})};function x(e){return n=>!!n.type&&n.type.tabsRole===e}let j=x("Tab"),g=x("TabList"),y=x("TabPanel");function E(e,n){return i.Children.map(e,e=>null===e?null:j(e)||g(e)||y(e)?n(e):e.props&&e.props.children&&"object"==typeof e.props.children?(0,i.cloneElement)(e,{...e.props,children:E(e.props.children,n)}):e)}var N=function(){for(var e,n,t=0,r="";t<arguments.length;)(e=arguments[t++])&&(n=function e(n){var t,r,s="";if("string"==typeof n||"number"==typeof n)s+=n;else if("object"==typeof n){if(Array.isArray(n))for(t=0;t<n.length;t++)n[t]&&(r=e(n[t]))&&(s&&(s+=" "),s+=r);else for(t in n)n[t]&&(s&&(s+=" "),s+=t)}return s}(e))&&(r&&(r+=" "),r+=n);return r};function C(e){let n=0;return!function e(n,t){return i.Children.forEach(n,n=>{null!==n&&(j(n)||y(n)?t(n):n.props&&n.props.children&&"object"==typeof n.props.children&&(g(n)&&t(n),e(n.props.children,t)))})}(e,e=>{j(e)&&n++}),n}function k(e){return e&&"getAttribute"in e}function S(e){return k(e)&&e.getAttribute("data-rttab")}function T(e){return k(e)&&"true"===e.getAttribute("aria-disabled")}let w={className:"react-tabs",focus:!1},I=e=>{let n=(0,i.useRef)([]),t=(0,i.useRef)([]),s=(0,i.useRef)();function l(n,t){if(n<0||n>=o())return;let{onSelect:r,selectedIndex:s}=e;r(n,s,t)}function a(e){let n=o();for(let t=e+1;t<n;t++)if(!T(d(t)))return t;for(let n=0;n<e;n++)if(!T(d(n)))return n;return e}function c(e){let n=e;for(;n--;)if(!T(d(n)))return n;for(n=o();n-- >e;)if(!T(d(n)))return n;return e}function o(){let{children:n}=e;return C(n)}function d(e){return n.current[`tabs-${e}`]}function u(e){let n=e.target;do if(f(n)){if(T(n))return;let t=[].slice.call(n.parentNode.children).filter(S).indexOf(n);l(t,e);return}while(null!=(n=n.parentNode))}function f(e){if(!S(e))return!1;let n=e.parentElement;do{if(n===s.current)return!0;if(n.getAttribute("data-rttabs"))break;n=n.parentElement}while(n);return!1}let{children:m,className:p,disabledTabClassName:h,domRef:b,focus:_,forceRenderTabPanel:v,onSelect:x,selectedIndex:k,selectedTabClassName:I,selectedTabPanelClassName:R,environment:L,disableUpDownKeys:O,disableLeftRightKeys:A,...B}={...w,...e};return i.createElement("div",Object.assign({},B,{className:N(p),onClick:u,onKeyDown:function(n){let{direction:t,disableUpDownKeys:r,disableLeftRightKeys:s}=e;if(f(n.target)){let{selectedIndex:i}=e,f=!1,m=!1;("Space"===n.code||32===n.keyCode||"Enter"===n.code||13===n.keyCode)&&(f=!0,m=!1,u(n)),(s||37!==n.keyCode&&"ArrowLeft"!==n.code)&&(r||38!==n.keyCode&&"ArrowUp"!==n.code)?(s||39!==n.keyCode&&"ArrowRight"!==n.code)&&(r||40!==n.keyCode&&"ArrowDown"!==n.code)?35===n.keyCode||"End"===n.code?(i=function(){let e=o();for(;e--;)if(!T(d(e)))return e;return null}(),f=!0,m=!0):(36===n.keyCode||"Home"===n.code)&&(i=function(){let e=o();for(let n=0;n<e;n++)if(!T(d(n)))return n;return null}(),f=!0,m=!0):(i="rtl"===t?c(i):a(i),f=!0,m=!0):(i="rtl"===t?a(i):c(i),f=!0,m=!0),f&&n.preventDefault(),m&&l(i,n)}},ref:e=>{s.current=e,b&&b(e)},"data-rttabs":!0}),function(){let s=0,{children:l,disabledTabClassName:a,focus:c,forceRenderTabPanel:u,selectedIndex:f,selectedTabClassName:m,selectedTabPanelClassName:p,environment:h}=e;t.current=t.current||[];let b=t.current.length-o(),_=(0,i.useId)();for(;b++<0;)t.current.push(`${_}${t.current.length}`);return E(l,e=>{let l=e;if(g(e)){let s=0,o=!1;null==r&&function(e){let n=e||("undefined"!=typeof window?window:void 0);try{r=!!(void 0!==n&&n.document&&n.document.activeElement)}catch(e){r=!1}}(h);let u=h||("undefined"!=typeof window?window:void 0);r&&u&&(o=i.Children.toArray(e.props.children).filter(j).some((e,n)=>u.document.activeElement===d(n))),l=(0,i.cloneElement)(e,{children:E(e.props.children,e=>{let r=`tabs-${s}`,l=f===s,d={tabRef:e=>{n.current[r]=e},id:t.current[s],selected:l,focus:l&&(c||o)};return m&&(d.selectedClassName=m),a&&(d.disabledClassName=a),s++,(0,i.cloneElement)(e,d)})})}else if(y(e)){let n={id:t.current[s],selected:f===s};u&&(n.forceRender=u),p&&(n.selectedClassName=p),s++,l=(0,i.cloneElement)(e,n)}return l})}())};I.propTypes={};let R={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},L=e=>null===e.selectedIndex?1:0,O=(e,n)=>{},A=e=>{let{children:n,defaultFocus:t,defaultIndex:r,focusTabOnClick:s,onSelect:l,...a}={...R,...e},[c,o]=(0,i.useState)(t),[d]=(0,i.useState)(L(a)),[u,f]=(0,i.useState)(1===d?r||0:null);if((0,i.useEffect)(()=>{o(!1)},[]),1===d){let e=C(n);(0,i.useEffect)(()=>{if(null!=u){let n=Math.max(0,e-1);f(Math.min(u,n))}},[e])}O(a,d);let m={...e,...a};return m.focus=c,m.onSelect=(e,n,t)=>{("function"!=typeof l||!1!==l(e,n,t))&&(s&&o(!0),1===d&&f(e))},null!=u&&(m.selectedIndex=u),delete m.defaultFocus,delete m.defaultIndex,delete m.focusTabOnClick,i.createElement(I,m,n)};A.propTypes={},A.tabsRole="Tabs";let B={className:"react-tabs__tab-list"},$=e=>{let{children:n,className:t,...r}={...B,...e};return i.createElement("ul",Object.assign({},r,{className:N(t),role:"tablist"}),n)};$.tabsRole="TabList",$.propTypes={};let F="react-tabs__tab",P={className:F,disabledClassName:`${F}--disabled`,focus:!1,id:null,selected:!1,selectedClassName:`${F}--selected`},D=e=>{let n=(0,i.useRef)(),{children:t,className:r,disabled:s,disabledClassName:l,focus:a,id:c,selected:o,selectedClassName:d,tabIndex:u,tabRef:f,...m}={...P,...e};return(0,i.useEffect)(()=>{o&&a&&n.current.focus()},[o,a]),i.createElement("li",Object.assign({},m,{className:N(r,{[d]:o,[l]:s}),ref:e=>{n.current=e,f&&f(e)},role:"tab",id:`tab${c}`,"aria-selected":o?"true":"false","aria-disabled":s?"true":"false","aria-controls":`panel${c}`,tabIndex:u||(o?"0":null),"data-rttab":!0}),t)};D.propTypes={},D.tabsRole="Tab";let H="react-tabs__tab-panel",K={className:H,forceRender:!1,selectedClassName:`${H}--selected`},U=e=>{let{children:n,className:t,forceRender:r,id:s,selected:l,selectedClassName:a,...c}={...K,...e};return i.createElement("div",Object.assign({},c,{className:N(t,{[a]:l}),role:"tabpanel",id:`panel${s}`,"aria-labelledby":`tab${s}`}),r||l?n:null)};function M(){let[e,n]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{n(!0),n(!1)},[]),(0,s.jsxs)("main",{className:a().main,children:[(0,s.jsx)("div",{className:"".concat(a().hero," "),children:(0,s.jsx)("div",{className:"grid content noMargin",children:(0,s.jsx)("div",{className:"col full",children:(0,s.jsx)("h3",{children:"Admin"})})})}),(0,s.jsx)("div",{className:"".concat(a().BackofficeContent," "),children:(0,s.jsx)("div",{className:"grid content noMargin",children:(0,s.jsx)("div",{className:"col full",children:(0,s.jsx)("div",{className:"".concat(a().tabs," "),children:(0,s.jsxs)(A,{children:[(0,s.jsxs)($,{children:[(0,s.jsx)(D,{children:"Environments"}),(0,s.jsx)(D,{children:"New Environment"})]}),(0,s.jsx)(U,{children:(0,s.jsx)(u,{})}),(0,s.jsx)(U,{children:(0,s.jsx)(v,{})})]})})})})})]})}U.tabsRole="TabPanel",U.propTypes={}},6330:function(e){e.exports={button:"button_button__zBiTp"}},997:function(e){e.exports={textfield:"textfield_textfield__SB1o4"}},6158:function(e){e.exports={main:"backoffice_main__51xWt",hero:"backoffice_hero__Hwfjd",BackofficeContent:"backoffice_BackofficeContent__XwxMo",tabs:"backoffice_tabs__TzmKF"}},4811:function(e){e.exports={EnvironmentList:"environments_EnvironmentList__K8mUk",EnvironmentItem:"environments_EnvironmentItem__P4LrH",openTag:"environments_openTag__GrStg",header:"environments_header__Vyto9",headerStatusTag:"environments_headerStatusTag__0knGk",approved:"environments_approved__9QqJe",rejected:"environments_rejected__s4wYr",description:"environments_description__iTznU",open:"environments_open__b5gp_",descriptionTo:"environments_descriptionTo__gCEoj",descriptionSubject:"environments_descriptionSubject__XNyT5",descriptionBody:"environments_descriptionBody__UeUxb"}},7150:function(e){e.exports={EventsList:"events_EventsList__H1Y8V",EventItem:"events_EventItem__Jg_Cn",openTag:"events_openTag__tx1uO",header:"events_header__K3j9x",description:"events_description__IXpCv",open:"events_open__wCFok",codeContainer:"events_codeContainer__qSoh1"}}},function(e){e.O(0,[629,253,961,744],function(){return e(e.s=2153)}),_N_E=e.O()}]);